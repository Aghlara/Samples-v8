/*
    Generated by FlexRule JavaScript Compiler at: 12/05/2017 2:00:31 PM
    FlexRule Runtime : 7.0.154
    FlexRule Designer: 0.0.0
*/

/*
    Original Logic Document Information:
    --------------------------------------------------------------------------
    Logic Type  : Natural
    Last Updated: 12/05/2017 8:44:54 AM
    SHA1        : 76c0a825827addb0bd435fb1089785ec44052553
*/
FlexRule.ApplicationsLogic.register("SampleUI.BusinessLogic","Form Val",function(){var parameters=[{name:'form',direction:'in',type:'variable' }];var processAll=true;this.run=function(input_form){return this.runWithParameters({processAll:processAll },input_form);};this.runWithParameters=function($fr$runParameter,input_form){var exec=new Executor(this.engine,parameters);$fr$runParameter.processAll=processAll;var outputs=exec.run($fr$runParameter,input_form);return this.engine.getContext({model:this,outputs:outputs });};this.getDescriptions=function(){var exec=new Executor(this.engine,parameters);return this.engine.getDescriptions(exec.validation,parameters);};var Executor=function($fr$engine,$fr$parameters){var form=null;var $context=$fr$engine.getExecutionContext({getContext:function(){return $fr$engine.context; },getSignature:function(){var sig={};for(var i=0; i < $fr$parameters.length; i++)sig[$fr$parameters[i].name]=eval($fr$parameters[i].name);return sig;}});var models=function(){var validation=[$fr$engine.createLogic('Form data validation',function(){return $fr$engine.createGroup({processAll:true},function(){return $fr$engine.compare($fr$engine.validate(validation,'Check Name'),'is',$fr$engine.compute(true)); },'and',function(){return $fr$engine.compare($fr$engine.validate(validation,'Check Family'),'is',$fr$engine.compute(true)); },'and',function(){return $fr$engine.compare($fr$engine.validate(validation,'Check Email'),'is',$fr$engine.compute(true)); });}),$fr$engine.createLogic('Check Name',function(){return $fr$engine.createGroup({},function(){return(form.name)==null; },'or',function(){return(form.name)==""; });},function(){$fr$engine.validate(validation,'Write Error{msg}',['first name is required']);}),$fr$engine.createLogic('Check Family',function(){return $fr$engine.createGroup({},function(){return(form.family)==null; },'or',function(){return(form.family)==""; });},function(){$fr$engine.validate(validation,'Write Error{msg}',['family name(lastname) is required']);}),$fr$engine.createLogic('Check Email',function(){return $fr$engine.createGroup({},function(){return(form.email)==null; },'or',function(){return(form.email)==""; },'or',function(){return $fr$engine.compare(form.email,'not match',"\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*"); });},function(){$fr$engine.validate(validation,'Write Error{msg}',['Please enter a valid email address for the registration']);}),$fr$engine.createLogic('Write Error{msg}',function(msg){return $fr$engine.createGroup({},function(msg){$context.WriteError(null,msg);});})];var run=function($fr$runParameter,input_form){form=input_form;$fr$engine.validate(validation,($fr$runParameter&&$fr$runParameter.name)?$fr$runParameter.name:'Form data validation',[]);return[];};return{run:run,validation:validation.map(function(x){return x.name}) };};return models();};});